# PWA 전환 계획 (초안)

## 목표
- 앱 개발(KMP/Flutter) 이슈를 우회하고, 웹을 설치형 앱(PWA)으로 제공
- 최소 범위로 빠르게 배포 가능하게 구성하되, 이후 확장(오프라인/알림) 여지 확보

## 범위 옵션
1) **기본 설치형**
   - Web App Manifest
   - 앱 아이콘/스플래시
   - 홈 화면 설치 유도(안내 배너)

2) **오프라인/캐시 포함**
   - Service Worker
   - 정적 리소스 캐싱 + 핵심 라우트 오프라인 대응

3) **푸시 알림(선택)**
   - Web Push (브라우저별 제약 확인 필요)

## 현재 상태 점검
- Next.js App Router 사용
- 로컬 우선(Local-first) + outbox sync 이미 구현됨
- 모바일 사용성 개선(헤더 1줄, QuickLog 접기 등) 반영됨

## 구현 단계(제안)
### 1단계: 기본 설치형 (MVP)
- Web App Manifest 추가
- theme-color/background-color 지정
- iOS 홈화면 설치 안내 UI 추가
- 아이콘 세트(192/512 등) 준비: **512 제공, 192는 추후 추가 필요**

### 2단계: 오프라인 캐시
- Service Worker 등록
- 정적 자산/핵심 페이지 캐싱
- API 캐싱 정책 정의 (GET only, 오래된 캐시 fallback)

### 3단계: 품질/운영
- Lighthouse PWA 체크 통과
- 설치율/활성화 추적 이벤트
- 스토어 배포 필요 시 TWA(안드로이드) 검토

## 리스크/제약
- iOS: 푸시/백그라운드 제약 큼
- 브라우저별 캐시/스토리지 정책 차이
- 설치 UX는 브라우저 정책에 따라 제한됨

## 의사결정 필요 사항
- 적용 범위: 1단계만 vs 2단계까지
- 아이콘/브랜딩 리소스 제공 여부
- 오프라인에서 보일 기본 화면/문구

## TODO
- [x] 적용 범위 확정 (1단계)
- [ ] 아이콘 리소스 보강 (192x192 추가)
- [x] manifest 설계
- [x] 설치 안내 UI 문구 확정
